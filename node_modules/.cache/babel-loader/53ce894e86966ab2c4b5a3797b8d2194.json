{"ast":null,"code":"import _defineProperty from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/KvN/[code]/todo-app-react-js/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AppHeader from'../app-header';import SearchPanel from'../search-panel';import TodoList from'../todo-list';import ItemStatusFilter from'../item-status-filter';import ItemAddForm from'../item-add-form';import'./app.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.maxId=10;_this.state={todoData:[_this.createTodoItem('Study html & css'),_this.createTodoItem('Study javascript'),_this.createTodoItem('Study reacr-js'),_this.createTodoItem('Prepare a cv'),_this.createTodoItem('Find a job')],term:'',filter:'all'// active, all, done\n};_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});// [a, b, c, d, e]\n// [a, b,    d, e]\n// const before = todoData.slice(0, idx);\n// const after = todoData.slice(idx + 1);\n// const newArray = [...before, ...after];\nvar newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.addItem=function(text){var newItem=_this.createTodoItem(text);_this.setState(function(_ref2){var todoData=_ref2.todoData;var newArr=[].concat(_toConsumableArray(todoData),[newItem]);return{todoData:newArr};});};_this.onToggleDone=function(id){_this.setState(function(_ref3){var todoData=_ref3.todoData;return{todoData:_this.toggleProperty(todoData,id,'done')};});};_this.onToggleImportant=function(id){_this.setState(function(_ref4){var todoData=_ref4.todoData;return{todoData:_this.toggleProperty(todoData,id,'important')};});};_this.onSearchChange=function(term){_this.setState({term:term});};_this.onFilterChange=function(filter){_this.setState({filter:filter});};return _this;}_createClass(App,[{key:\"createTodoItem\",value:function createTodoItem(label){return{label:label,important:false,done:false,id:this.maxId++};}},{key:\"toggleProperty\",value:function toggleProperty(arr,id,propName){var idx=arr.findIndex(function(el){return el.id===id;});// update object\nvar oldItem=arr[idx];var newItem=_objectSpread({},oldItem,_defineProperty({},propName,!oldItem[propName]));// construct new array\nreturn[].concat(_toConsumableArray(arr.slice(0,idx)),[newItem],_toConsumableArray(arr.slice(idx+1)));}},{key:\"search\",value:function search(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.toLowerCase().indexOf(term.toLowerCase())>-1;});}},{key:\"filter\",value:function filter(items,_filter){switch(_filter){case'all':return items;case'active':return items.filter(function(item){return!item.done;});case'done':return items.filter(function(item){return item.done;});default:return items;}}},{key:\"render\",value:function render(){var _this$state=this.state,todoData=_this$state.todoData,term=_this$state.term,filter=_this$state.filter;var visibleItems=this.filter(this.search(todoData,term),filter);var doneCount=todoData.filter(function(el){return el.done;}).length;var todoCount=todoData.length-doneCount;return React.createElement(\"div\",{className:\"todo-app\"},React.createElement(AppHeader,{toDo:todoCount,done:doneCount}),React.createElement(\"div\",{className:\"top-panel d-flex\"},React.createElement(SearchPanel,{onSearchChange:this.onSearchChange}),React.createElement(ItemStatusFilter,{filter:filter,onFilterChange:this.onFilterChange})),React.createElement(TodoList,{todos:visibleItems,onDeleted:this.deleteItem,onToggleImportant:this.onToggleImportant,onToggleDone:this.onToggleDone}),React.createElement(ItemAddForm,{onItemAdded:this.addItem}));}}]);return App;}(Component);export{App as default};;","map":{"version":3,"sources":["/Users/KvN/[code]/todo-app-react-js/src/components/app/app.js"],"names":["React","Component","AppHeader","SearchPanel","TodoList","ItemStatusFilter","ItemAddForm","App","maxId","state","todoData","createTodoItem","term","filter","deleteItem","id","setState","idx","findIndex","el","newArray","slice","addItem","text","newItem","newArr","onToggleDone","toggleProperty","onToggleImportant","onSearchChange","onFilterChange","label","important","done","arr","propName","oldItem","items","length","item","toLowerCase","indexOf","visibleItems","search","doneCount","todoCount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AppHeader from '../app-header';\nimport SearchPanel from '../search-panel';\nimport TodoList from '../todo-list';\nimport ItemStatusFilter from '../item-status-filter';\nimport ItemAddForm from '../item-add-form';\nimport './app.css';\n\nexport default class App extends Component {\n\n  maxId = 10;\n\n  state = {\n    todoData: [\n      this.createTodoItem('Study html & css'),\n      this.createTodoItem('Study javascript'),\n      this.createTodoItem('Study reacr-js'),\n      this.createTodoItem('Prepare a cv'),\n      this.createTodoItem('Find a job')\n    ],\n    term: '',\n    filter: 'all' // active, all, done\n  };\n\n  createTodoItem(label) {\n    return {\n        label,\n        important: false,\n        done: false,\n        id: this.maxId++\n    }\n  }\n\n  deleteItem = (id) => {\n    this.setState(({ todoData }) => {\n      const idx = todoData.findIndex((el) => el.id === id);\n\n      // [a, b, c, d, e]\n      // [a, b,    d, e]\n      // const before = todoData.slice(0, idx);\n      // const after = todoData.slice(idx + 1);\n      // const newArray = [...before, ...after];\n\n      const newArray = [\n        ...todoData.slice(0, idx),\n        ...todoData.slice(idx + 1)\n      ];\n\n      return {\n        todoData: newArray\n      };\n    });\n  };\n\n  addItem = (text) => {\n    const newItem = this.createTodoItem(text);\n\n    this.setState(({ todoData }) => {\n\n      const newArr = [\n        ...todoData,\n        newItem\n      ];\n\n      return {\n        todoData: newArr\n      };\n    });\n  };\n\n  toggleProperty(arr, id, propName) {\n    const idx = arr.findIndex((el) => el.id === id);\n\n      // update object\n      const oldItem = arr[idx];\n      const newItem = {...oldItem,\n          [propName]: !oldItem[propName]};\n\n      // construct new array\n      return [\n        ...arr.slice(0, idx),\n        newItem,\n        ...arr.slice(idx + 1)\n      ];\n  }\n\n  onToggleDone = (id) => {\n    this.setState(({ todoData }) => {\n      return {\n        todoData: this.toggleProperty(todoData, id, 'done')\n      };\n    });  \n  };\n\n  onToggleImportant = (id) => {\n    this.setState(({ todoData }) => {\n      return {\n        todoData: this.toggleProperty(todoData, id, 'important')\n      };\n    });\n  };\n\n  onSearchChange = (term) => {\n    this.setState({ term });\n  };\n\n  onFilterChange = (filter) => {\n    this.setState({ filter });\n  };\n\n  search(items, term) {\n    if(term.length === 0) {\n      return items;\n    }\n\n    return items.filter((item) => {\n      return item.label\n          .toLowerCase()\n          .indexOf(term.toLowerCase()) > -1;\n    });\n  }\n\n  filter (items, filter) {\n    switch(filter) {\n      case 'all':\n        return items;\n      case 'active':\n        return items.filter((item) => !item.done);\n      case 'done':\n        return items.filter((item) => item.done);\n      default:\n        return items;\n    }\n  }\n\n\n\n  render() {\n    const { todoData, term, filter } = this.state;\n    const visibleItems = this.filter(this.search(todoData, term), filter);\n\n    const doneCount = todoData.filter((el) => el.done).length;\n    const todoCount = todoData.length - doneCount;\n\n    return (\n      <div className=\"todo-app\">\n        <AppHeader toDo={todoCount} done={doneCount}/>\n        <div className=\"top-panel d-flex\">\n          <SearchPanel \n            onSearchChange={this.onSearchChange}/>\n          <ItemStatusFilter \n            filter={filter}\n            onFilterChange={this.onFilterChange}/>\n        </div>\n  \n        <TodoList \n          todos={visibleItems} \n          onDeleted={ this.deleteItem } \n          onToggleImportant={this.onToggleImportant}\n          onToggleDone={this.onToggleDone}\n        />\n\n        <ItemAddForm onItemAdded={this.addItem} />\n      </div>\n    );\n  }\n};\n"]},"metadata":{},"sourceType":"module"}